(this.webpackJsonptracking=this.webpackJsonptracking||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(10),s=n.n(c),a=(n(23),n(3)),m=(n(24),n(18)),u=n(6),o=n.n(u),d=n(1),j=function(e){var t=Object(m.a)(),n=t.register,i=t.handleSubmit,c=(t.reset,function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return(e=("000"+e.toString(36)).slice(-3))+(t=("000"+t.toString(36)).slice(-3))});return Object(r.useEffect)((function(){e.restoreState()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"tracker"}),Object(d.jsxs)("form",{onSubmit:i((function(t,n){var r={id:c(),name:t["tracker-name"]||o()().format(),savedTime:o()(),running:!0,simpleTimer:1};e.addTimer(r),n.target.reset()})),children:[Object(d.jsx)("input",{name:"tracker-name",ref:n,placeholder:"Enter tracker name"}),Object(d.jsx)("input",{type:"submit"})]})]})},f=function(e){Object(r.useEffect)((function(){if(e.running)setTimeout((function(){return e.stepTimer(e.id),void e.saveState()}),1e3)}),[e.running,e.simpleTimer]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.name}),function(){var t=e.simpleTimer,n={hh:0,mm:0,ss:0};return t>0&&(t<60?n.ss=t:t%60===0?n.mm=t/60:(n.mm=parseInt(t/60),n.ss=t%60)),n.mm>59&&(n.mm%60===0?(n.hh=n.mm/60,n.mm=0):(n.hh=parseInt(n.mm/60),n.mm=n.mm%60)),Object(d.jsxs)("p",{children:[n.hh<1?"00":n.hh<10?"0"+n.hh:n.hh,":",n.mm<1?"00":n.mm<10?"0"+n.mm:n.mm,":",n.ss<10?"0"+n.ss:n.ss]})}(),Object(d.jsx)("button",{onClick:function(){e.setRun(!1,e.id)},children:"stop"}),Object(d.jsx)("button",{onClick:function(){e.setRun(!0,e.id)},children:"start"}),Object(d.jsx)("button",{onClick:function(){e.deleteTimer(e.id)},children:"delete"})]})},b=function(e){i.a.useEffect((function(){}),[e.timers]);return Object(d.jsx)("div",{children:e.timers.map((function(t,n){return Object(d.jsx)(f,{index:n,id:t.id,name:t.name,running:t.running,savedTime:t.savedTime,simpleTimer:t.simpleTimer,stepTimer:e.stepTimer,saveState:e.saveState,deleteTimer:e.deleteTimer,setRun:e.setRun},t.id)})).slice(0).reverse()})},l=n(11),O=n(2),h={timers:[]},T=function(e){return{type:"RESTORE",newState:e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-TIMER":return Object(a.a)(Object(a.a)({},e),{},{timers:[].concat(Object(O.a)(e.timers),[t.timer])});case"STEP":var n=e.timers.filter((function(e){if(e.id===t.id)return e})),r=n[0];if(r){var i=o()(),c=r.simpleTimer+1,s=Object(a.a)(Object(a.a)({},r),{},{savedTime:i,simpleTimer:c}),m=e.timers.map((function(e){return e.id==t.id?s:e}));return Object(a.a)(Object(a.a)({},e),{},{timers:m})}return Object(a.a)({},e);case"RESTORE":var u=t.newState.timers.map((function(e){var t=o()().diff(e.savedTime,"seconds");return e.simpleTimer+=t,e}));return Object(a.a)(Object(a.a)({},e),{},{timers:u});case"DELETE":var d=e.timers.filter((function(e){if(e.id!==t.id)return e}));return Object(a.a)(Object(a.a)({},e),{},{timers:d});case"SET-RUN":var j=e.timers.map((function(e){return e.id===t.id?(e.running=t.bool,e):e}));return Object(a.a)(Object(a.a)({},e),{},{timers:j});default:return e}};var v=Object(l.b)((function(e){return{timers:e.timers,numberOfTimers:e.numberOfTimers}}),{addTimer:function(e){return{type:"ADD-TIMER",timer:e}},stepTimer:function(e){return{type:"STEP",id:e}},saveState:function(){return console.log("State saved"),function(e,t){window.localStorage.setItem("state",JSON.stringify(t()))}},restoreState:function(){return console.log("State restored"),function(e){var t=JSON.parse(window.localStorage.getItem("state"));e(T(t||h))}},deleteTimer:function(e){return{type:"DELETE",id:e}},setRun:function(e,t){return{type:"SET-RUN",bool:e,id:t}}})((function(e){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j,Object(a.a)({},e)),Object(d.jsx)(b,Object(a.a)({},e))]})})),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),c(e),s(e)}))},g=n(8),E=n(17),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||g.c,R=Object(g.d)(p,x(Object(g.a)(E.a)));s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(l.a,{store:R,children:Object(d.jsx)(v,{})})}),document.getElementById("root")),window.store=R,S()}},[[36,1,2]]]);
//# sourceMappingURL=main.10885f91.chunk.js.map